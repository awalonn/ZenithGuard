(async()=>{const r=["privacy policy","privacy","data policy"],i=Array.from(document.getElementsByTagName("a"));let o=null;for(const e of i){const n=e.textContent.trim().toLowerCase();if(r.some(t=>n.includes(t))&&e.href){o=e;break}}if(o)try{const e=new URL(o.href,window.location.href).href;chrome.runtime.sendMessage({type:"FOUND_PRIVACY_POLICY_URL",data:{domain:window.location.hostname,policyUrl:e}}).catch(n=>{console.warn(`ZenithGuard: Could not send policy URL. Background service might be reloading. Error: ${n.message}`)})}catch(e){console.error("ZenithGuard Policy Finder: Error processing link.",e)}})();
